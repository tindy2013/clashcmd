#---------------------------------------------------#
## é…ç½®æ–‡ä»¶éœ€è¦æ”¾ç½®åœ¨ $HOME/.config/clash/config.yml
## æˆ–è€…è¿è¡Œç›®å½•ä¸‹çš„config.yml
#---------------------------------------------------#

# HTTP ä»£ç†ç«¯å£
port: 7890

# SOCKS5 ä»£ç†ç«¯å£
socks-port: 7891

# Linux å’Œ macOS çš„ redir ä»£ç†ç«¯å£ (å¦‚éœ€ä½¿ç”¨æ­¤åŠŸèƒ½ï¼Œè¯·å–æ¶ˆæ³¨é‡Š)
# redir-port: 7892
# å…è®¸å±€åŸŸç½‘çš„è¿æ¥ï¼ˆå¯ç”¨æ¥å…±äº«ä»£ç†ï¼‰
allow-lan: false

# è§„åˆ™æ¨¡å¼ï¼šRuleï¼ˆè§„åˆ™ï¼‰ / Globalï¼ˆå…¨å±€ä»£ç†ï¼‰/ Directï¼ˆå…¨å±€ç›´è¿ï¼‰
mode: Rule

# è®¾ç½®æ—¥å¿—è¾“å‡ºçº§åˆ« (é»˜è®¤çº§åˆ«ï¼šsilentï¼Œå³ä¸è¾“å‡ºä»»ä½•å†…å®¹ï¼Œä»¥é¿å…å› æ—¥å¿—å†…å®¹è¿‡å¤§è€Œå¯¼è‡´ç¨‹åºå†…å­˜æº¢å‡ºï¼‰ã€‚
# 5 ä¸ªçº§åˆ«ï¼šsilent / info / warning / error / debugã€‚çº§åˆ«è¶Šé«˜æ—¥å¿—è¾“å‡ºé‡è¶Šå¤§ï¼Œè¶Šå€¾å‘äºè°ƒè¯•ï¼Œè‹¥éœ€è¦è¯·è‡ªè¡Œå¼€å¯ã€‚
log-level: info

# Clash çš„ RESTful API 
external-controller: '127.0.0.1:9090'

# æ‚¨å¯ä»¥å°†é™æ€ç½‘é¡µèµ„æºï¼ˆå¦‚ clash-dashboardï¼‰æ”¾ç½®åœ¨ä¸€ä¸ªç›®å½•ä¸­ï¼Œclash å°†ä¼šæœåŠ¡äº `RESTful API/ui` 
# å‚æ•°åº”å¡«å†™é…ç½®ç›®å½•çš„ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„ã€‚
# http://127.0.0.1:9090/ui/#/
# external-ui: folder
#external-ui: dashboard_yacd    #yacdé¢æ¿ï¼šhttps://github.com/haishanh/yacd
external-ui: dashboard_Razord #Razordé¢æ¿ï¼šhttp://clash.razord.top/#/proxies

# RESTful API çš„å£ä»¤ (å¯é€‰)
# secret: ""
# æœ¬åœ° SOCKS5 / HTTP(S) æœåŠ¡è®¤è¯
# authentication:
#  - "user1:pass1"
#  - "user2:pass2"
# å®éªŒæ€§åŠŸèƒ½
experimental:
  ignore-resolve-fail: true # å¿½ç•¥ DNS è§£æå¤±è´¥ï¼Œé»˜è®¤å€¼ä¸º true

# ä»£ç†ç»„
# ä¸‹é¢è¿™3ä¸ªä¸è¦å¼•åˆ°è®¢é˜…é‡Œå» è¦ä¸ä¼šå‡ºé”™
# Will be ignored after profile selection
Proxy:
  - name: ç½‘æ˜“äº‘è§£é”ï¼ˆæœ¬åœ°ï¼‰
    type: http
    server: 127.0.0.1
    port: "11685"
    skip-cert-verify: true
Proxy Group:
  - name: ğŸµ Netease Music
    type: select
    proxies:
      - ç½‘æ˜“äº‘è§£é”ï¼ˆæœ¬åœ°ï¼‰
      - DIRECT
Rule:
  - DOMAIN,api.iplay.163.com,ğŸµ Netease Music
  - DOMAIN,apm3.music.163.com,ğŸµ Netease Music
  - DOMAIN,apm.music.163.com,ğŸµ Netease Music
  - DOMAIN,interface3.music.163.com,ğŸµ Netease Music
  - DOMAIN,interface.music.163.com,ğŸµ Netease Music
  - DOMAIN,music.163.com,ğŸµ Netease Music
  - IP-CIDR,39.105.63.80/32,ğŸµ Netease Music
  - IP-CIDR,45.254.48.1/32,ğŸµ Netease Music
  - IP-CIDR,47.100.127.239/32,ğŸµ Netease Music
  - IP-CIDR,59.111.160.195/32,ğŸµ Netease Music
  - IP-CIDR,59.111.160.197/32,ğŸµ Netease Music
  - IP-CIDR,59.111.181.35/32,ğŸµ Netease Music
  - IP-CIDR,59.111.181.38/32,ğŸµ Netease Music
  - IP-CIDR,59.111.181.60/32,ğŸµ Netease Music
  - IP-CIDR,101.71.154.241/32,ğŸµ Netease Music
  - IP-CIDR,103.126.92.132/32,ğŸµ Netease Music
  - IP-CIDR,103.126.92.133/32,ğŸµ Netease Music
  - IP-CIDR,112.13.119.17/32,ğŸµ Netease Music
  - IP-CIDR,112.13.122.1/32,ğŸµ Netease Music
  - IP-CIDR,115.236.118.33/32,ğŸµ Netease Music
  - IP-CIDR,115.236.121.1/32,ğŸµ Netease Music
  - IP-CIDR,118.24.63.156/32,ğŸµ Netease Music
  - IP-CIDR,193.112.159.225/32,ğŸµ Netease Music
  - IP-CIDR,223.252.199.66/32,ğŸµ Netease Music
  - IP-CIDR,223.252.199.67/32,ğŸµ Netease Music
  - DOMAIN,admusicpic.music.126.net,REJECT
  - DOMAIN,iadmat.nosdn.127.net,REJECT
  - DOMAIN,iadmusicmat.music.126.net,REJECT
  - DOMAIN,iadmusicmatvideo.music.126.net,REJECT
  - MATCH,DIRECT

#dns:
# enable: true
#  ipv6: false
#  listen: 0.0.0.0:53
#  enhanced-mode: fake-ip # æ¨¡å¼ï¼šredir-hostæˆ–fake-ip
#     # fake-ip-range: 198.18.0.1/16 # å¦‚æœä½ ä¸çŸ¥é“è¿™ä¸ªå‚æ•°çš„ä½œç”¨ï¼Œè¯·å‹¿ä¿®æ”¹
#     # å®éªŒæ€§åŠŸèƒ½ hosts, æ”¯æŒé€šé…ç¬¦ (ä¾‹å¦‚ *.clash.dev ç”šè‡³ *.foo.*.example.com)
#     # é™æ€çš„åŸŸå æ¯” é€šé…åŸŸå å…·æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§ (foo.example.com ä¼˜å…ˆäº *.example.com)
#     # æ³¨æ„: hosts åœ¨ fake-ip æ¨¡å¼ä¸‹ä¸ç”Ÿæ•ˆ
#  hosts:
#     '*.clash.dev': 127.0.0.1
#     'alpha.clash.dev': '::1'
#  nameserver:
#    - 223.5.5.5 # é˜¿é‡ŒDNS
#     - 180.76.76.76 # ç™¾åº¦DNS
#     - 119.29.29.29 # è…¾è®¯DNS
#     - 117.50.10.10 # ONE DNSçº¯å‡€ç‰ˆ
#     - 114.114.114.114 # 114DNS
#  fallback:
#     - 8.8.8.8 # è°·æ­ŒDNS
#     - 1.1.1.1 # Cloudflare DNS
#     - tls://dns.rubyfish.cn:853
#     - tls://1.0.0.1:853
#     - tls://dns.google:853
#     #- https://dns.rubyfish.cn/dns-query
#     #- https://cloudflare-dns.com/dns-query
#     #- https://dns.google/dns-query
# fallback-filter:
#   geoip: true # é»˜è®¤
#   ipcidr: # åœ¨è¿™ä¸ªç½‘æ®µå†…çš„ IP åœ°å€ä¼šè¢«è€ƒè™‘ä¸ºè¢«æ±¡æŸ“çš„ IP
#     - 240.0.0.0/4
# 1. clash DNS è¯·æ±‚é€»è¾‘ï¼š
#   (1) å½“è®¿é—®ä¸€ä¸ªåŸŸåæ—¶ï¼Œ nameserver ä¸ fallback åˆ—è¡¨å†…çš„æ‰€æœ‰æœåŠ¡å™¨å¹¶å‘è¯·æ±‚ï¼Œå¾—åˆ°åŸŸåå¯¹åº”çš„ IP åœ°å€ã€‚
#   (2) clash å°†é€‰å– nameserver åˆ—è¡¨å†…ï¼Œè§£ææœ€å¿«çš„ç»“æœã€‚
#   (3) è‹¥è§£æç»“æœä¸­ï¼ŒIP åœ°å€å±äº å›½å¤–ï¼Œé‚£ä¹ˆ clash å°†é€‰æ‹© fallback åˆ—è¡¨å†…ï¼Œè§£ææœ€å¿«çš„ç»“æœã€‚
#
#   å› æ­¤ï¼Œæˆ‘åœ¨ nameserver å’Œ fallback å†…éƒ½æ”¾ç½®äº†æ— æ±¡æŸ“ã€è§£æé€Ÿåº¦è¾ƒå¿«çš„å›½å†… DNS æœåŠ¡å™¨ï¼Œä»¥è¾¾åˆ°æœ€å¿«çš„è§£æé€Ÿåº¦ã€‚
#   ä½†æ˜¯ fallback åˆ—è¡¨å†…æœåŠ¡å™¨ä¼šç”¨åœ¨è§£æå¢ƒå¤–ç½‘ç«™ï¼Œä¸ºäº†ç»“æœç»å¯¹æ— æ±¡æŸ“ï¼Œæˆ‘ä»…ä¿ç•™äº†æ”¯æŒ DoT/DoH çš„ä¸¤ä¸ªæœåŠ¡å™¨ã€‚
#
# 2. clash DNS é…ç½®æ³¨æ„äº‹é¡¹ï¼š
#   (1) å¦‚æœæ‚¨ä¸ºäº†ç¡®ä¿ DNS è§£æç»“æœæ— æ±¡æŸ“ï¼Œè¯·ä»…ä¿ç•™åˆ—è¡¨å†…ä»¥ tls:// æˆ– https:// å¼€å¤´çš„ DNS æœåŠ¡å™¨ï¼Œä½†æ˜¯é€šå¸¸å¯¹äºå›½å†…åŸŸåæ²¡æœ‰å¿…è¦ã€‚
#   (2) å¦‚æœæ‚¨ä¸åœ¨ä¹å¯èƒ½è§£æåˆ°æ±¡æŸ“çš„ç»“æœï¼Œæ›´åŠ è¿½æ±‚é€Ÿåº¦ã€‚è¯·å°† nameserver åˆ—è¡¨çš„æœåŠ¡å™¨æ’å…¥è‡³ fallback åˆ—è¡¨å†…ï¼Œå¹¶ç§»é™¤é‡å¤é¡¹ã€‚
#
# 3. å…³äº DNS over HTTPS (DoH) å’Œ DNS over TLS (DoT) çš„é€‰æ‹©ï¼š
#   å¯¹äºä¸¤é¡¹æŠ€æœ¯åŒæ–¹å„æ‰§ä¸€è¯ï¼Œè€Œä¸”ä¼šæ— ä¼‘æ­¢çš„äº‰è®ºï¼Œå„æœ‰åˆ©å¼Šã€‚å„ä½è¯·æ ¹æ®å…·ä½“éœ€æ±‚è‡ªè¡Œé€‰æ‹©ï¼Œä½†æ˜¯é…ç½®æ–‡ä»¶å†…é»˜è®¤å¯ç”¨ DoTï¼Œå› ä¸ºç›®å‰å›½å†…æ²¡æœ‰å°é”æˆ–ç®¡åˆ¶ã€‚
#   DoH: ä»¥ https:// å¼€å¤´çš„ DNS æœåŠ¡å™¨ã€‚æ‹¥æœ‰æ›´å¥½çš„ä¼ªè£…æ€§ï¼Œä¸”å‡ ä¹ä¸å¯èƒ½è¢«è¿è¥å•†æˆ–ç½‘ç»œç®¡ç†å°é”ï¼Œä½†æŸ¥è¯¢æ•ˆç‡å’Œå®‰å…¨æ€§å¯èƒ½ç•¥ä½ã€‚
#   DoT: ä»¥ tls:// å¼€å¤´çš„ DNS æœåŠ¡å™¨ã€‚æ‹¥æœ‰æ›´é«˜çš„å®‰å…¨æ€§å’ŒæŸ¥è¯¢æ•ˆç‡ï¼Œä½†ç«¯å£æœ‰å¯èƒ½è¢«ç®¡åˆ¶æˆ–å°é”ã€‚
#   è‹¥è¦äº†è§£æ›´å¤šå…³äº DoH/DoT ç›¸å…³æŠ€æœ¯ï¼Œè¯·è‡ªè¡ŒæŸ¥é˜…è§„èŒƒæ–‡æ¡£ã€‚
